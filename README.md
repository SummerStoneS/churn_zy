# churn_zy
churn prevention of high end customers

1.preprocess.py
2.modeling.py
3.predict.py
4.cluster.py

## x and y
churn definition: month7 aum drops more than 20% over past 6 months' average aum.
in the preprocess step, y is generated by the churn definition, and x's are transformed and calculated to reflect recent change.

## data
There are 5 snapshots in total. 20180331, 20171231, 20180831, 20180630 and 20180831.
20180331 means standing at 20180331, see if the customer is churned next month. There is one more constraint in the data, we only focus high-end customers, so only customers with past 6 months average aum greater than 50K  will be involved in this model.

## models and params
in the modeling step, training data consists of 3 periods data, 20180331, 20171231 and 20170831.the out of time test data is 20180630. 
GBDT is used and model params are adjusted based on the performance of OOT data.
```gbr = GradientBoostingRegressor(loss='ls', max_depth=8, learning_rate=0.04, n_estimators=150, min_samples_split=10, min_samples_leaf=10)
```
                                
## 

